###########
# General #
###########

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:Rubik 14
# font pango:Noto Sans Regular 14

# Set the mod key to the winkey.
set $mod Mod4

focus_follows_mouse no

for_window [class="^.*"] border pixel 1

####################
# Workspace layout #
####################

# Default i3 tiling mode.
workspace_layout default

#############################
# Extra options for windows #
#############################

# Border indicator on windows.
new_window pixel 1

# Set inner/outer gaps
gaps inner 0
gaps outer 0

# Use Mouse+$mod to drag floating windows to their wanted position.
floating_modifier $mod

# Switch to workspace.
bindsym $mod+n    workspace  prev_on_output
bindsym $mod+m    workspace  next_on_output

bindsym $mod+u    workspace  $ws1
bindsym $mod+i    workspace  $ws2
bindsym $mod+o    workspace  $ws3
bindsym $mod+p    workspace  $ws4
bindsym $mod+5    workspace  $ws5
bindsym $mod+6    workspace  $ws6
bindsym $mod+7    workspace  $ws7
bindsym $mod+8    workspace  $ws8
bindsym $mod+9    workspace  $ws9
bindsym $mod+0    workspace  $ws10

# Switch to workspace with numpad keys.
bindcode $mod+87 workspace 1
bindcode $mod+88 workspace 2
bindcode $mod+89 workspace 3
bindcode $mod+83 workspace 4
bindcode $mod+84 workspace 5
bindcode $mod+85 workspace 6
bindcode $mod+79 workspace 7
bindcode $mod+80 workspace 8
bindcode $mod+81 workspace 9
bindcode $mod+90 workspace 10

# Switch to workspace with numlock numpad keys.
bindcode $mod+Mod2+87 workspace $ws1
bindcode $mod+Mod2+88 workspace $ws2
bindcode $mod+Mod2+89 workspace $ws3
bindcode $mod+Mod2+83 workspace $ws4
bindcode $mod+Mod2+84 workspace $ws5
bindcode $mod+Mod2+85 workspace $ws6
bindcode $mod+Mod2+79 workspace $ws7
bindcode $mod+Mod2+80 workspace $ws8
bindcode $mod+Mod2+81 workspace $ws9
bindcode $mod+Mod2+90 workspace $ws10

# Move focused container to workspace.
bindsym $mod+Shift+1    move container to workspace  $ws1
bindsym $mod+Shift+2    move container to workspace  $ws2
bindsym $mod+Shift+3    move container to workspace  $ws3
bindsym $mod+Shift+4    move container to workspace  $ws4
bindsym $mod+Shift+5    move container to workspace  $ws5
bindsym $mod+Shift+6    move container to workspace  $ws6
bindsym $mod+Shift+7    move container to workspace  $ws7
bindsym $mod+Shift+8    move container to workspace  $ws8
bindsym $mod+Shift+9    move container to workspace  $ws9
bindsym $mod+Shift+0    move container to workspace  $ws10

# Move focused container to workspace with numpad keys.
bindcode $mod+Shift+Mod2+87 	move container to workspace  $ws1
bindcode $mod+Shift+Mod2+88 	move container to workspace  $ws2
bindcode $mod+Shift+Mod2+89 	move container to workspace  $ws3
bindcode $mod+Shift+Mod2+83 	move container to workspace  $ws4
bindcode $mod+Shift+Mod2+84 	move container to workspace  $ws5
bindcode $mod+Shift+Mod2+85 	move container to workspace  $ws6
bindcode $mod+Shift+Mod2+79 	move container to workspace  $ws7
bindcode $mod+Shift+Mod2+80 	move container to workspace  $ws8
bindcode $mod+Shift+Mod2+81 	move container to workspace  $ws9
bindcode $mod+Shift+Mod2+90 	move container to workspace  $ws10

# Move focused container to workspace with numpad keys.
bindcode $mod+Shift+87 	 move container to workspace  $ws1
bindcode $mod+Shift+88 	 move container to workspace  $ws2
bindcode $mod+Shift+89 	 move container to workspace  $ws3
bindcode $mod+Shift+83 	 move container to workspace  $ws4
bindcode $mod+Shift+84 	 move container to workspace  $ws5
bindcode $mod+Shift+85 	 move container to workspace  $ws6
bindcode $mod+Shift+79 	 move container to workspace  $ws7
bindcode $mod+Shift+80 	 move container to workspace  $ws8
bindcode $mod+Shift+81 	 move container to workspace  $ws9
bindcode $mod+Shift+90 	 move container to workspace  $ws10

# Move workspace to other monitor.
bindsym $mod+d move workspace to output left

# Resize window.
mode "resize" {
  bindsym h resize shrink width 10 px or 10 ppt
  bindsym l resize grow width 10 px or 10 ppt
  bindsym j resize grow height 10 px or 10 ppt
  bindsym k resize shrink height 10 px or 10 ppt

  # Exit Resize mode.
  bindsym Return mode "default"
  bindsym Escape mode "default"
}

# Enter Rezise mode.
bindsym $mod+r mode "resize"

###############
# Keybindings #
###############

# Start a terminal.
bindsym $mod+Return exec alacritty

# Kill focused window.
bindsym $mod+Shift+c kill

# exit-menu.
bindsym $mod+Shift+q exec ~/.config/i3/scripts/shutdown_menu -p rofi -c

bindsym $mod+Shift+e exec alacritty -e lvim ~/.config/i3/config

# Reload the configuration file.
bindsym $mod+Shift+t reload

# Restart i3 inplace (preserves your layout/session, can be used to upgrade i3).
bindsym $mod+Shift+r restart

# Backlight control.
bindsym XF86MonBrightnessUp exec xbacklight +10
bindsym XF86MonBrightnessDown exec xbacklight -10

# Change focus.
bindsym $mod+h focus left
bindsym $mod+l focus right
bindsym $mod+j focus down
bindsym $mod+k focus up

# Move focused window.
bindsym $mod+Shift+h move left
bindsym $mod+Shift+l move right
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up

# Split in horizontal orientation.
bindsym $mod+b split h

# Split in vertical orientation.
bindsym $mod+v split v

# Toogle split direction.
bindsym $mod+e layout toggle split

# Enter fullscreen mode for the focused container.
bindsym $mod+f fullscreen toggle

# Toggle tiling / floating.
bindsym $mod+Shift+space floating toggle

# Change focus between tiling / floating windows.
# bindsym $mod+space focus mode_toggle

# Focus the parent container.
bindsym $mod+a focus parent

# Open new empty workspace.
bindsym $mod+Shift+n exec ~/.config/i3/scripts/empty_workspace.sh

#####################
## Multimedia Keys ##
#####################

# Volume.
bindsym XF86AudioRaiseVolume exec amixer -D pulse sset Master 5%+ && pkill -RTMIN+1 i3blocks
bindsym XF86AudioLowerVolume exec amixer -D pulse sset Master 5%- && pkill -RTMIN+1 i3blocks

# Gradular volume control.
bindsym $mod+XF86AudioRaiseVolume exec amixer -D pulse sset Master 1%+ && pkill -RTMIN+1 i3blocks
bindsym $mod+XF86AudioLowerVolume exec amixer -D pulse sset Master 1%- && pkill -RTMIN+1 i3blocks

# Mute.
bindsym XF86AudioMute exec pamixer -t && notify-send "mute: $(pamixer --get-mute)"

# Playback control.
bindsym XF86AudioPlay exec playerctl play
bindsym XF86AudioPause exec playerctl pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

# Redirect sound to headphones
bindsym $mod+Shift+p exec /usr/local/bin/switch-audio-port

###################
## App shortcuts ##
###################

# bindsym $mod+w exec /usr/bin/firefox
# bindsym $mod+n exec /usr/bin/thunar
bindsym Print exec "scrot ~/%Y-%m-%d-%T-screenshot.png"

#######################
# Workspace Behaviour #
#######################

# Workspace definitions.
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# Set workspaces to specific displays.
#workspace $ws1 output HDMI-0
#workspace $ws2 output HDMI-0
#workspace $ws3 output HDMI-1
#workspace $ws4 output HDMI-1
#workspace $ws5 output HDMI-1

# Bind program to workspace and focus to them on startup.
# assign [class="(?i)firefox"] $ws2
# assign [class="Thunar"] $ws4
# assign [class="Thunderbird"] $ws5
# assign [class="Slack"] $ws1

# Automatic set focus new window if it opens on another workspace.
for_window [class=Alacritty] focus
for_window [class=(?i)firefox] focus

############################################
# Autostart applications/services on login #
############################################

exec setxkbmap -option caps:super

# Polybar.
exec_always --no-startup-id $HOME/.config/i3/scripts/polybar.sh

# Auth.
exec --no-startup-id /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

# Use dex to execute .desktop files.
exec --no-startup-id dex -a -s /etc/xdg/autostart/:~/.config/autostart/

# Num lock activated.
exec --no-startup-id numlockx on

# Setup displays.
exec --no-startup-id ~/.screenlayout/monitor.sh

# Start blueberry.
exec --no-startup-id blueberry-tray

# Transparency.
exec --no-startup-id picom -CGb

# networkmanager-applet.
exec --no-startup-id nm-applet

# Set wallpaper.
exec --no-startup-id nitrogen --restore

# Start clipboard manager
exec --no-startup-id xfce4-clipman

# Set powersavings for display.
exec --no-startup-id xset s 480 dpms 600 600 600

# Start dunst for desktop notifications.
exec --no-startup-id dbus-launch dunst --config ~/.config/dunst/dunstrc

######################
## Floating windows ##
######################

for_window [class="Yad" instance="yad"] floating enable
for_window [class="Galculator" instance="galculator"] floating enable
for_window [class="Blueberry.py" instance="blueberry.py"] floating enable
for_window [class="Xsane" instance="xsane"] floating enable
for_window [class="Pavucontrol" instance="pavucontrol"] floating enable
for_window [class="qt5ct" instance="qt5ct"] floating enable
for_window [class="Bluetooth-sendto" instance="bluetooth-sendto"] floating enable
for_window [class="Pamac-manager"] floating enable

##################
# Color settings #
##################

set $base00 #101218
set $base01 #1f222d
set $base02 #252936
set $base03 #5e81ac  
set $base04 #C0C5CE
set $base05 #d1d4e0
set $base06 #C9CCDB
set $base07 #ffffff
set $base08 #ee829f
set $base09 #f99170
set $base0A #ffefcc
set $base0B #a5ffe1
set $base0C #97e0ff
set $base0D #97bbf7
set $base0E #c0b7f9
set $base0F #fcc09e

# class		        	    border	bground text	  indicator	child_border
client.focused          #5DD98B #a3be8c #ffffff #81a1c1 #88C0D0
client.unfocused        #2e3440 #2e3440 #888888 #2e3440
client.focused_inactive #2e3440 #2e3440 #888888 #2e3440
client.placeholder      #2e3440 #2e3440 #888888 #2e3440
client.urgent           #900000 #900000 #ffffff #900000

client.background       #242424

# Keybindings

bindsym $mod+space exec rofi -modi drun -show drun
bindsym $mod+y exec rofi -show run

# Rofi window change menu bindings.

bindsym $mod+t exec rofi -show window

